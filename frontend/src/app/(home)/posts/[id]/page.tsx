import { AuthorSidebar } from '@/components/author-sidebar';
import { BackButton } from '@/components/posts/back-button';
import CommentItem from '@/components/posts/comment-item';
import { PostDetailContent } from '@/components/posts/post-detail-content';

// Mock data - in a real app, this would come from a database
const posts = [
    {
        id: 1,
        author: {
            name: 'Golanginya',
            username: '@Golanginya',
            avatar: '/developer-avatar.png',
            reputation: 125,
            badges: 8,
            socialLinks: {
                github: '#',
                instagram: '#',
                facebook: '#',
            },
        },
        comments: 2,
        likes: 34,
        timestamp: '12 November 2020 19:35',
        title: 'How to patch KDE on FreeBSD?',
        content: `# Ti√™u ƒë·ªÅ Ch√≠nh (H1)

Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi v√≠ d·ª• ki·ªÉm tra Markdown!

---

## üöÄ Kh·ªëi Code Block v√† Inline Code (H2)

Ch√∫ng ta h√£y xem c√°ch Markdown x·ª≠ l√Ω kh·ªëi m√£ (code block) v√† m√£ inline.

ƒê√¢y l√† m·ªôt ƒëo·∫°n m√£ **inline** ƒë∆°n gi·∫£n: \`const x = 10;\`. B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng n√≥ ƒë·ªÉ l√†m n·ªïi b·∫≠t t√™n bi·∫øn ho·∫∑c l·ªánh nh·ªè.

ƒê·ªÉ hi·ªÉn th·ªã m·ªôt **kh·ªëi code block** l·ªõn h∆°n, h√£y s·ª≠ d·ª•ng ba d·∫•u backtick (\`\`\`).

\`\`\`javascript
// V√≠ d·ª• v·ªÅ m·ªôt function trong JavaScript
function calculateSum(a, b) {
  // Console log l√† m·ªôt l·ªánh th√¥ng th∆∞·ªùng
  console.log("T√≠nh t·ªïng...");
  
  // Tr·∫£ v·ªÅ k·∫øt qu·∫£
  return a + b;
}

const result = calculateSum(5, 7);
console.log(\`K·∫øt qu·∫£: \${result}\`); // K·∫øt qu·∫£ s·∫Ω l√† 12
\`\`\`

---

## üñºÔ∏è H√¨nh ·∫£nh v√† Li√™n k·∫øt (H2)

Markdown cho ph√©p nh√∫ng h√¨nh ·∫£nh v√† t·∫°o li√™n k·∫øt m·ªôt c√°ch d·ªÖ d√†ng.

**Li√™n k·∫øt:**
B·∫°n c√≥ th·ªÉ truy c·∫≠p trang web c·ªßa Google [t·∫°i ƒë√¢y](https://www.google.com).

**H√¨nh ·∫£nh:**
ƒê√¢y l√† m·ªôt h√¨nh ·∫£nh m·∫´u (h√£y ƒë·∫£m b·∫£o URL h√¨nh ·∫£nh n√†y c√≥ th·ªÉ truy c·∫≠p ƒë∆∞·ª£c trong ·ª©ng d·ª•ng c·ªßa b·∫°n):

![Logo React](https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/512px-React-icon.svg.png)

---

## üìù Danh s√°ch v√† ƒê·ªãnh d·∫°ng (H2)

### Danh s√°ch Kh√¥ng Th·ª© T·ª± (H3)

* M·ª•c danh s√°ch ƒë·∫ßu ti√™n
* M·ª•c th·ª© hai (c√≥ **in ƒë·∫≠m** v√† *in nghi√™ng*)
    * M·ª•c con 1
    * M·ª•c con 2

### Danh s√°ch C√≥ Th·ª© T·ª± (H3)

1.  B∆∞·ªõc kh·ªüi t·∫°o
2.  B∆∞·ªõc c·∫•u h√¨nh m√¥i tr∆∞·ªùng
3.  B∆∞·ªõc ki·ªÉm tra cu·ªëi c√πng

### B·∫£ng (S·ª≠ d·ª•ng remark-gfm)

| T√™n Thu·ªôc t√≠nh | Ki·ªÉu d·ªØ li·ªáu | B·∫Øt bu·ªôc |
| :--- | :--- | :--- |
| \`id\` | \`number\` | Yes |
| \`title\` | \`string\` | Yes |
| \`status\` | \`string\` | No |`,
        tags: ['java', 'javascript'],
    },
    {
        id: 2,
        author: {
            name: 'Linuxoid',
            username: '@Linuxoid',
            avatar: '/programmer-avatar.png',
            reputation: 98,
            badges: 5,
            socialLinks: {
                github: '#',
                instagram: '#',
                facebook: '#',
            },
        },
        comments: 2,
        likes: 34,
        timestamp: '10 November 2020 14:22',
        title: 'What is a difference between Java nad JavaScript?',
        content: `Lorem ipsum dolor sit amet, consectetur adipiscing elit. Bibendum vitae etiam lectus amet enim.',
        "codeBlock"console.log("Hello World");"endCodeBlock",
        This is a common question for beginners in programming.`,
        tags: ['java', 'javascript', 'wtf'],
    },
];

const comments = [
    {
        id: 1,
        author: {
            name: 'Golanginya',
            avatar: '/developer-avatar.png',
        },
        timeAgo: '5 min ago',
        content:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Consequat aliquet maecenas ut sit nulla',
        likes: 125,
        replies: 15,
        nested: [
            {
                id: 2,
                author: {
                    name: 'Linuxoid',
                    avatar: '/programmer-avatar.png',
                },
                timeAgo: '3 min ago',
                content: `# Ti√™u ƒë·ªÅ Ch√≠nh (H1)

Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi v√≠ d·ª• ki·ªÉm tra Markdown!

---

## üöÄ Kh·ªëi Code Block v√† Inline Code (H2)

Ch√∫ng ta h√£y xem c√°ch Markdown x·ª≠ l√Ω kh·ªëi m√£ (code block) v√† m√£ inline.

ƒê√¢y l√† m·ªôt ƒëo·∫°n m√£ **inline** ƒë∆°n gi·∫£n: \`const x = 10;\`. B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng n√≥ ƒë·ªÉ l√†m n·ªïi b·∫≠t t√™n bi·∫øn ho·∫∑c l·ªánh nh·ªè.

ƒê·ªÉ hi·ªÉn th·ªã m·ªôt **kh·ªëi code block** l·ªõn h∆°n, h√£y s·ª≠ d·ª•ng ba d·∫•u backtick (\`\`\`).

\`\`\`javascript
// V√≠ d·ª• v·ªÅ m·ªôt function trong JavaScript
function calculateSum(a, b) {
  // Console log l√† m·ªôt l·ªánh th√¥ng th∆∞·ªùng
  console.log("T√≠nh t·ªïng...");
  
  // Tr·∫£ v·ªÅ k·∫øt qu·∫£
  return a + b;
}

const result = calculateSum(5, 7);
console.log(\`K·∫øt qu·∫£: \${result}\`); // K·∫øt qu·∫£ s·∫Ω l√† 12
\`\`\`

---

## üñºÔ∏è H√¨nh ·∫£nh v√† Li√™n k·∫øt (H2)

Markdown cho ph√©p nh√∫ng h√¨nh ·∫£nh v√† t·∫°o li√™n k·∫øt m·ªôt c√°ch d·ªÖ d√†ng.

**Li√™n k·∫øt:**
B·∫°n c√≥ th·ªÉ truy c·∫≠p trang web c·ªßa Google [t·∫°i ƒë√¢y](https://www.google.com).

**H√¨nh ·∫£nh:**
ƒê√¢y l√† m·ªôt h√¨nh ·∫£nh m·∫´u (h√£y ƒë·∫£m b·∫£o URL h√¨nh ·∫£nh n√†y c√≥ th·ªÉ truy c·∫≠p ƒë∆∞·ª£c trong ·ª©ng d·ª•ng c·ªßa b·∫°n):

![Logo React](https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/512px-React-icon.svg.png)

---

## üìù Danh s√°ch v√† ƒê·ªãnh d·∫°ng (H2)

### Danh s√°ch Kh√¥ng Th·ª© T·ª± (H3)

* M·ª•c danh s√°ch ƒë·∫ßu ti√™n
* M·ª•c th·ª© hai (c√≥ **in ƒë·∫≠m** v√† *in nghi√™ng*)
    * M·ª•c con 1
    * M·ª•c con 2

### Danh s√°ch C√≥ Th·ª© T·ª± (H3)

1.  B∆∞·ªõc kh·ªüi t·∫°o
2.  B∆∞·ªõc c·∫•u h√¨nh m√¥i tr∆∞·ªùng
3.  B∆∞·ªõc ki·ªÉm tra cu·ªëi c√πng

### B·∫£ng (S·ª≠ d·ª•ng remark-gfm)

| T√™n Thu·ªôc t√≠nh | Ki·ªÉu d·ªØ li·ªáu | B·∫Øt bu·ªôc |
| :--- | :--- | :--- |
| \`id\` | \`number\` | Yes |
| \`title\` | \`string\` | Yes |
| \`status\` | \`string\` | No |`,
                likes: 125,
                replies: 15,
            },
        ],
    },
    {
        id: 3,
        author: {
            name: 'Golanginya',
            avatar: '/developer-avatar.png',
        },
        timeAgo: '5 min ago',
        content: `# Ti√™u ƒë·ªÅ Ch√≠nh (H1)

Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi v√≠ d·ª• ki·ªÉm tra Markdown!

---

## üöÄ Kh·ªëi Code Block v√† Inline Code (H2)

Ch√∫ng ta h√£y xem c√°ch Markdown x·ª≠ l√Ω kh·ªëi m√£ (code block) v√† m√£ inline.

ƒê√¢y l√† m·ªôt ƒëo·∫°n m√£ **inline** ƒë∆°n gi·∫£n: \`const x = 10;\`. B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng n√≥ ƒë·ªÉ l√†m n·ªïi b·∫≠t t√™n bi·∫øn ho·∫∑c l·ªánh nh·ªè.

ƒê·ªÉ hi·ªÉn th·ªã m·ªôt **kh·ªëi code block** l·ªõn h∆°n, h√£y s·ª≠ d·ª•ng ba d·∫•u backtick (\`\`\`).

\`\`\`javascript
// V√≠ d·ª• v·ªÅ m·ªôt function trong JavaScript
function calculateSum(a, b) {
  // Console log l√† m·ªôt l·ªánh th√¥ng th∆∞·ªùng
  console.log("T√≠nh t·ªïng...");
  
  // Tr·∫£ v·ªÅ k·∫øt qu·∫£
  return a + b;
}

const result = calculateSum(5, 7);
console.log(\`K·∫øt qu·∫£: \${result}\`); // K·∫øt qu·∫£ s·∫Ω l√† 12
\`\`\`

---

## üñºÔ∏è H√¨nh ·∫£nh v√† Li√™n k·∫øt (H2)

Markdown cho ph√©p nh√∫ng h√¨nh ·∫£nh v√† t·∫°o li√™n k·∫øt m·ªôt c√°ch d·ªÖ d√†ng.

**Li√™n k·∫øt:**
B·∫°n c√≥ th·ªÉ truy c·∫≠p trang web c·ªßa Google [t·∫°i ƒë√¢y](https://www.google.com).

**H√¨nh ·∫£nh:**
ƒê√¢y l√† m·ªôt h√¨nh ·∫£nh m·∫´u (h√£y ƒë·∫£m b·∫£o URL h√¨nh ·∫£nh n√†y c√≥ th·ªÉ truy c·∫≠p ƒë∆∞·ª£c trong ·ª©ng d·ª•ng c·ªßa b·∫°n):

![Logo React](https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/512px-React-icon.svg.png)

---

## üìù Danh s√°ch v√† ƒê·ªãnh d·∫°ng (H2)

### Danh s√°ch Kh√¥ng Th·ª© T·ª± (H3)

* M·ª•c danh s√°ch ƒë·∫ßu ti√™n
* M·ª•c th·ª© hai (c√≥ **in ƒë·∫≠m** v√† *in nghi√™ng*)
    * M·ª•c con 1
    * M·ª•c con 2

### Danh s√°ch C√≥ Th·ª© T·ª± (H3)

1.  B∆∞·ªõc kh·ªüi t·∫°o
2.  B∆∞·ªõc c·∫•u h√¨nh m√¥i tr∆∞·ªùng
3.  B∆∞·ªõc ki·ªÉm tra cu·ªëi c√πng

### B·∫£ng (S·ª≠ d·ª•ng remark-gfm)

| T√™n Thu·ªôc t√≠nh | Ki·ªÉu d·ªØ li·ªáu | B·∫Øt bu·ªôc |
| :--- | :--- | :--- |
| \`id\` | \`number\` | Yes |
| \`title\` | \`string\` | Yes |
| \`status\` | \`string\` | No |`,
        likes: 125,
        replies: 15,
        nested: [],
    },
];

export default async function PostDetailPage({
    params,
}: {
    params: Promise<{ id: string }>;
}) {
    console.log(await params);
    return (
        <div className="w-[calc[100%-42rem] flex justify-center">
            <div className="flex flex-col gap-6 max-w-4xl w-full">
                <div className="space-y-2">
                    {/* Back Button */}
                    <div>
                        <BackButton />
                    </div>
                    {/* Post Content */}
                    <PostDetailContent post={posts[0]} />
                    {/* Comments Section */}
                    <section className="space-y-4">
                        <h2 className="text-lg font-semibold">Comment</h2>
                        {comments.map((comment) => (
                            <CommentItem key={comment.id} comment={comment} />
                        ))}
                    </section>
                </div>
            </div>
            {/* Sidebar */}
            <div className="w-84 fixed top-24 right-0 md:block hidden">
                <AuthorSidebar author={posts[0].author} />
            </div>
        </div>
    );
}
